<div class="sidebar d-flex flex-column p-3 shadow-sm" 
     [class.collapsed]="isCollapsed">

  <!-- Top Section -->
  <div class="flex-grow-1">
    <!-- Logo / Title -->
    <h5 class="fw-bold text-center mb-4 text-white" *ngIf="!isCollapsed">
      <i class="bi bi-speedometer2 me-2"></i> My Dashboard
    </h5>

    <!-- Menu Items -->
    <ul class="nav nav-pills flex-column gap-2">
      <!-- Users -->
      <li class="nav-item sidebar-item"
          [class.active]="activeMenu === 'users'"
          (click)="selectMenu('users')">
        <i class="bi bi-people-fill me-2"></i> 
        <span *ngIf="!isCollapsed">Users</span>
      </li>

      <!-- Products with Submenu -->
      <li class="nav-item sidebar-item"
          [class.active]="activeMenu === 'products'"
          (click)="toggleProductsMenu()">
        <i class="bi bi-box-seam me-2"></i> 
        <span *ngIf="!isCollapsed">Products</span>
        <i *ngIf="!isCollapsed" class="bi float-end" 
           [ngClass]="showProductsSubMenu ? 'bi-chevron-up' : 'bi-chevron-down'"></i>
      </li>

      <!-- Submenu -->
      <ul *ngIf="showProductsSubMenu && !isCollapsed" class="nav flex-column ms-4 mt-1 gap-1">
        <li class="nav-item sidebar-sub-item" (click)="selectMenu('brand')">
          <i class="bi bi-circle me-2 small"></i> Brand
        </li>
        <li class="nav-item sidebar-sub-item" (click)="selectMenu('category')">
          <i class="bi bi-circle me-2 small"></i> Category
        </li>
        <li class="nav-item sidebar-sub-item" (click)="selectMenu('all-products')">
          <i class="bi bi-circle me-2 small"></i> All Products
        </li>
        <li class="nav-item sidebar-sub-item" (click)="selectMenu('product-type')">
          <i class="bi bi-circle me-2 small"></i> Product Type
        </li>
      </ul>

      <!-- Settings -->
      <li class="nav-item sidebar-item"
          [class.active]="activeMenu === 'settings'"
          (click)="selectMenu('settings')">
        <i class="bi bi-gear-fill me-2"></i> 
        <span *ngIf="!isCollapsed">Settings</span>
      </li>
    </ul>
  </div>

  <!-- Bottom Toggle Button -->
  <div class="mt-auto">
    <button class="btn btn-sm btn-toggle text-white w-100" 
            (click)="toggleSidebar()">
      <i class="bi" [ngClass]="isCollapsed ? 'bi-arrow-right-square' : 'bi-arrow-left-square'"></i>
    </button>
  </div>
</div>
